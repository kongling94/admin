webpackJsonp([9],{IcnI:function(t,e,n){"use strict";var a={};n.d(a,"setUserName",function(){return c}),n.d(a,"setToken",function(){return s}),n.d(a,"removeToken",function(){return p}),n.d(a,"setDeviceType",function(){return l}),n.d(a,"setLoginInfo",function(){return f});var o={};n.d(o,"adminuser",function(){return d}),n.d(o,"admintoken",function(){return m}),n.d(o,"admintype",function(){return h});var r,i=n("7+uW"),u=n("NYxO"),c=function(t,e){var n=t.commit;t.state;n("SET_USERNAME",e)},s=function(t,e){var n=t.commit;t.state;n("SET_TOKEN",e)},p=function(t,e){var n=t.commit;t.state;n("REMOVE_TOKEN",e)},l=function(t,e){var n=t.commit;t.state;n("DEVICE_TYPE",e)},f=function(t,e){var n=t.commit;t.state;n("SET_USERNAME",e.username),n("SET_TOKEN",e.token),n("DEVICE_TYPE",e.deviceType),n("TYPE",e.type)},d=function(t){return t.username},m=function(t){return t.token},h=function(t){return t.deviceType},v={username:"",token:"",deviceType:"",type:""},y=n("bOdI"),E=n.n(y),T=(r={},E()(r,"SET_USERNAME",function(t,e){t.username=e,localStorage.setItem("username",e)}),E()(r,"SET_TOKEN",function(t,e){t.token=e,localStorage.setItem("token",e)}),E()(r,"REMOVE_TOKEN",function(t){t.token="",localStorage.removeItem("token")}),E()(r,"DEVICE_TYPE",function(t,e){t.deviceType=e}),E()(r,"TYPE",function(t,e){t.type=e,localStorage.setItem("type",e)}),r);n("sax8");i.default.use(u.a);e.a=new u.a.Store({actions:a,getters:o,state:v,mutations:T,strict:!1,plugins:[]})},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")(null,o,!1,function(t){n("tROZ")},null,null).exports,i=n("/ocq");a.default.use(i.a);var u=new i.a({routes:[{path:"/",redirect:"/dashboard"},{path:"/",component:function(t){return n.e(1).then(function(){var e=[n("MpTN")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"自述文件"},children:[{path:"/userinfo",component:function(t){return n.e(2).then(function(){var e=[n("UfrB")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"用户概况"}},{path:"/updata",component:function(t){return n.e(0).then(function(){var e=[n("KPly")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"版本更新"}},{path:"/dashboard",component:function(t){return n.e(3).then(function(){var e=[n("a52u")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"系统首页"}},{path:"/permission",component:function(t){return n.e(6).then(function(){var e=[n("5jj7")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"权限测试",permission:!0}},{path:"/404",component:function(t){return n.e(4).then(function(){var e=[n("3bH0")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"404"}},{path:"/403",component:function(t){return n.e(7).then(function(){var e=[n("KfZE")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"403"}}]},{path:"/login",component:function(t){return n.e(5).then(function(){var e=[n("GF4k")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"*",redirect:"/404"}]}),c=n("mtWM"),s=n.n(c),p=n("IcnI"),l=n("wvfG"),f=n.n(l),d=n("zL8q"),m=n.n(d),h=n("gyMJ"),v=n("XLwt"),y=n.n(v);n("tvR6"),n("ympj"),n("j1ja");s.a.defaults.timeout=5e3,s.a.defaults.baseURL="/api",a.default.use(m.a,{size:"small"}),a.default.use(f.a),a.default.prototype.$post=h.b,a.default.prototype.$get=h.a,a.default.prototype.$echarts=y.a,u.beforeEach(function(t,e,n){var o=localStorage.getItem("username");o||"/login"===t.path?t.meta.permission?"admin"===o?n():n("/403"):navigator.userAgent.indexOf("MSIE")>-1&&"/editor"===t.path?a.default.prototype.$alert("vue-quill-editor组件不兼容IE10及以下浏览器，请使用更高版本的浏览器查看","浏览器不兼容通知",{confirmButtonText:"确定"}):n():n("/login")}),new a.default({el:"#app",router:u,store:p.a,components:{App:r},template:"<App/>"})},gyMJ:function(t,e,n){"use strict";e.a=function(t,e){return new o.a(function(n,a){i.a.get(l+t,{params:e}).then(function(t){n(t.data)}).catch(function(t){a(t.data)})})},e.b=function(t,e){var n=e||{};return new o.a(function(e,a){i()({method:"post",url:l+t,data:(n.headers?n.data:s.a.stringify(n.data))||{},responseType:n.dataType||"json",headers:n.headers||{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){e(t.data)}).catch(function(t){a(t.data)})})};var a=n("//Fk"),o=n.n(a),r=n("mtWM"),i=n.n(r),u=n("IcnI"),c=n("mw3O"),s=n.n(c),p=n("zL8q"),l=(n.n(p),"http://168.168.4.20/app_manage/server/public/api");i.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",i.a.interceptors.request.use(function(t){if("post"==t.method){var e=localStorage.getItem("deviceType")||(a=t.data,o={},a.split("&").forEach(function(t,e){var n=t.split("=");o[n[0]]=n[1]}),o).device_type,n=localStorage.getItem("token");n&&(t.headers["XX-Token"]=n),e&&(t.headers["XX-Device-Type"]=e),localStorage.setItem("deviceType",e)}var a,o;return t},function(t){return o.a.reject(err)}),i.a.interceptors.response.use(function(t){return 200===t.status?o.a.resolve(t):o.a.reject(t)},function(t){if(t.response.status){switch(t.response){case 401:f();break;case 403:d("warning","登录过期，请重新登录."),f(),localStorage.removeItem("token"),u.a.commit("loginSuccess",null),setTimeout(function(){},1e3);break;case 404:d("error","网络请求不存在.")}return o.a.reject(t.response)}});var f=function(){router.replace({path:"/login",query:{redirect:router.currentRoute.fullPath}})},d=function(t,e){Object(p.Message)({message:e,type:t})}},tROZ:function(t,e){},tvR6:function(t,e){},ympj:function(t,e){}},["NHnr"]);